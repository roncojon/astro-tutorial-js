---
// Import statements remain unchanged
import { initPromise, initialized, fetchError, number } from '../utils/utilsGlobalFetchTest';

// Reactive state declaration remains unchanged
let isLoading = true;
let hasError = false;
let errorMessage = '';
let randomNumber = '';

// Adjusted function to handle initialization
async function handleInit() {
  try {
    await initPromise;
    isLoading = false; // Update state after successful initialization
    randomNumber = number; // Update randomNumber based on the resolved value
  } catch (error) {
    hasError = true;
    errorMessage = error.message || 'An unknown error occurred'; // Fallback error message
    isLoading = false;
  }
}

handleInit(); // Call the function immediately
---

<!-- Template part remains unchanged -->
<div>
  {number}
</div>